<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>my碰壁反弹</title>
		<style type="text/css">
			#wrap{
				width: 500px;
				height: 400px;
				border: 1px solid black;
				margin: 100px auto;
				position: relative;
			}
			#box{
				width: 50px;
				height: 50px;
				background: pink;
				position: absolute;
				top: 0;
				left: 0;
			}
		</style>
	</head>
	<body>
		<div id="wrap">
			<div id="box"></div>
		</div>
	</body>
	<script type="text/javascript">
		var wrap=document.getElementById('wrap');
		var box=document.getElementById('box');
		// console.log(wrap.clientWidth);获取元素加上border的高度/宽度
		// console.log(wrap.offsetWidth);获取元素的内容宽高
		// console.log(box.offsetTop);获取定位元素距离父级边界的距离
		// console.log(box.offsetLeft);

		var maxWidth=wrap.clientWidth-box.offsetWidth;

		var maxHeight=wrap.clientHeight-box.offsetHeight;

		var topS=box.offsetTop;
		var leftS=box.offsetLeft;
		console.log(topS);
		console.log(leftS);
		var movex = 2;
		var movey = 5;
		var timer=null;
		function timerFn(){
			timer=setInterval(function(){
				topS+=movey;
				leftS+=movex;
				if(topS>=maxHeight){
					movey*=-1;
					console.log(movey);
				}else if(topS<=0){
					movey*=-1;
				}
				if(leftS>=maxWidth){
					movex*=-1;
					console.log(movex);
				}else if(leftS<=0){
					movex*=-1;
				}
				box.style.top=topS+'px';
				box.style.left=leftS+'px';
			},30);
		}
		timerFn();
		box.onmouseover=function(){
			clearInterval(timer);
		}
		box.onmouseout=function(){
			timerFn();
		}

	</script>
</html>