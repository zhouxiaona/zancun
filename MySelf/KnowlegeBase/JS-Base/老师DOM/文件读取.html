<!--/**
 *                             _ooOoo_
 *                            o8888888o
 *                            88" . "88
 *                            (| -_- |)
 *                            O\  =  /O
 *                         ____/`---'\____
 *                       .'  \\|     |//  `.
 *                      /  \\|||  :  |||//  \
 *                     /  _||||| -:- |||||-  \
 *                     |   | \\\  -  /// |   |
 *                     | \_|  ''\---/''  |   |
 *                     \  .-\__  `-`  ___/-. /
 *                   ___`. .'  /--.--\  `. . __
 *                ."" '<  `.___\_<|>_/___.'  >'"".
 *               | | :  `- \`.;`\ _ /`;.`/ - ` : | |
 *               \  \ `-.   \_ __\ /__ _/   .-` /  /
 *          ======`-.____`-.___\_____/___.-`____.-'======
 *                             `=---='
 *          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 *                     佛祖保佑        永无BUG
 *            佛曰:
 *                   写字楼里写字间，写字间里程序员；
 *                   程序人员写程序，又拿程序换酒钱。
 *                   酒醒只在网上坐，酒醉还来网下眠；
 *                   酒醉酒醒日复日，网上网下年复年。
 *                   但愿老死电脑间，不愿鞠躬老板前；
 *                   奔驰宝马贵者趣，公交自行程序员。
 *                   别人笑我忒疯癫，我笑自己命太贱；
 *                   不见满街漂亮妹，哪个归得程序员？
*/-->


<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			
			body{
				height: 2000px;
			}

		</style>
	</head>
	<body>
		<div class="container">
		    <!--文本文件验证-->
		    <input type="file" id="file" multiple accept="text/plain" />
		    <input type="button" id="btn1" value="读取文件内容" onclick="showFiles();" />
		    <h4>选择文件如下:</h4>
		    <blockquote></blockquote>
		</div>
		
	</body>
	<script type="text/javascript">
		var str = "00:03 第三秒, 00:08 第八秒, 01:02 第62秒";
		var arr = str.split(", ");
		
		console.log(arr);
		for(var i = 0; i < arr.length; i++){
			(function(){
				var res = arr[i].split(" ");
				var timeArr = res[0].split(":");
				var time = (timeArr[0] * 60 + Number(timeArr[1])) * 1000;
				// console.log(time);
				setTimeout(function(){
					console.log(res[1]);
					div.innerHTML = res[1];
				}, time);
			})();

		}

		// for(var i = 1; i < 10; i++){
		// 	setTimeout(function(){
		// 		console.log(123);
		// 	}, i * 1000);
		// }



		//读取文本文件实例
		var fileBox = document.getElementById('file');
		var blockquote =  document.getElementsByTagName('blockquote')[0];
		function showFiles() {
			console.log(fileBox.files)
		    //获取选择文件的数组
		    var fileList = fileBox.files;
		    for (var i = 0; i < fileList.length; i++) {
		        var file = fileList[i];
		        readFile(file);
		    }
		}
		//读取文件内容
		function readFile(file) {
		    var reader = new FileReader();
		    //中文windows系统 txt 文本多数默认编码 gbk
		    // reader.readAsText(file, 'gbk');
		    // reader.readAsText(file, "UTF-16");
		    reader.readAsText(file, "UTF-8");
		    reader.onload = function (e) {
		        var result = reader.result;
		        blockquote.innerHTML = result;
		        // $('.container blockquote').text(result);
		        // run(result);
		    }
		}
		// function run(str){
		// 	var arr = str.split("\n");
		// 	console.log(arr);
		// 	for(var i = 0; i < arr.length; i++){
		// 		if (arr[i].split("[")[1]) {
		// 			var time = arr[i].split("[")[1].split("]")[0];
		// 			console.log(time);
		// 			if (Number(time.splite(":"))) {}
		// 		}
				
		// 	}
		// }
	</script>
</html>